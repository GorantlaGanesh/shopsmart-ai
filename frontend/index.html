<!DOCTYPE html>
<html>
<head>
  <title>ShopSmart AI</title>
</head>
<body>

<h2>ShopSmart AI Demo</h2>

<input id="email" placeholder="email">
<input id="pass" placeholder="password">
<button onclick="login()">Login</button>

<button onclick="loadProducts()">Load Products</button>
<button onclick="userRecs()">My Recommendations</button>

<pre id="out"></pre>

<script>
const API = "https://your-backend.onrender.com";
let token = localStorage.getItem("token");

async function login(){
  const res = await fetch(API+"/api/auth/login",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({
      email:email.value,
      password:pass.value
    })
  });
  const data = await res.json();
  token = data.access_token;
  localStorage.setItem("token",token);
}

async function loadProducts(){
  const res = await fetch(API+"/api/products");
  out.innerText = JSON.stringify(await res.json(),null,2);
}

async function userRecs(){
  const res = await fetch(API+"/api/recommend/user",{
    headers:{Authorization:`Bearer ${token}`}
  });
  out.innerText = JSON.stringify(await res.json(),null,2);
}
</script>

</body>
</html>